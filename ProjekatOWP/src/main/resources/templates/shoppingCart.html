

<!DOCTYPE html>
<html lang="en">

<head>
    <!-- basic -->
    <meta charset="utf-8">
    
   	<base th:href="@{/}">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- mobile metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1">
    <!-- site metas -->
    
    <title>All Users - Books & Bookshelves</title>
    
    <meta name="keywords" content="">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- bootstrap css -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- owl css -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <!-- style css -->
    <link rel="stylesheet" href="css/styleAbout.css">
    <!-- responsive-->
    <link rel="stylesheet" href="css/responsive.css">
    <!-- awesome fontfamily -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://emoji-css.afeld.me/emoji.css" rel="stylesheet">
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script><![endif]-->
</head>
<!-- body -->

<body class="main-layout">

  <div class="wrapper">
    
         <div class="sidebar">
                <!-- Sidebar  -->
                <nav id="sidebar">
    
                    <div id="dismiss">
                        <i class="fa fa-arrow-left"></i>
                    </div>
    
                    <ul class="list-unstyled components">
    
                        <li >
                            <a href="">Books & Bookshelves</a>
                        </li>
                        
                        <li>
                            <a href="books" th:text="#{index.allBooks}"></a>
                        </li>
                        
                        <li th:if="${session.loggedInUser != null and session.loggedInUser.administrator}">
                       
						<a href="books/Create" th:text="#{index.addBook}"></a>
						
						</li>
                        
                        
                        <li>
                            <a href="about.html" th:text="#{index.aboutUs}"></a>
                        </li>
                 
                       
                       <li th:if="${session.loggedInUser != null and session.loggedInUser.administrator}">
                       
						<a href="Users" th:text="#{index.allUsers}"></a>
						
						</li>
						
						<li th:if="${session.loggedInUser != null and session.loggedInUser.administrator}">
                       
						<a href="Comments/ShowCommentsAdmin" th:text="#{index.commentsAdmin}"></a>
						
						</li>
                       
                        <li>
                            <a class="cart" href="ShoppingCart">Shopping Cart</a>
                        </li>
                        
                         <li th:if="${session.loggedInUser != null}" >
                         
                            <a href="Users/Logout" th:text="#{index.logOut}"></a>
                        </li>
                        
                        
                         <li class="user" th:unless="${session.loggedInUser == null}" >
                        
                            <a th:href="|Users/Profile?username=${session.loggedInUser.username}|" th:text="#{index.profile}"> &nbsp;-> &nbsp;<span th:text="${session.loggedInUser.username}"></span> </a>
                        </li>
                        
                        <li class="user" th:unless="${session.loggedInUser == null or session.loggedInUser.administrator}" >
                        
                        <form method="" action="WishList">
                            <button type="submit" class="wishSidebar" th:text="#{index.wishList}"> &nbsp;:))</button>
                            <input type="hidden" name="username" th:value="${session.loggedInUser.username}"/>
                        </form>
                        
                        </li>
                        
                       </ul>
                       
                       
                       
                        <!---------  Languages ------------ -->
                      
                      <ul  id="locales" name="locales" th:with="language=${#locale.language}">
                      
                        <li style="display:none">
                            <span th:text="${#locale}"></span>
							<span th:text="#{lang.change}"></span>
                        </li>
                        
                       <!--  <li>
                            <a value="en" th:text="#{lang.eng}" href="Internationalization/changeToEngland" th:selected="${#strings.equals(#locale.language,'en')}"></a>
                        </li>
                        
                        <li>
                            <a value="sr" th:text="#{lang.sr}" href="Internationalization/changeToSerbian" th:selected="${#strings.equals(#locale.language,'sr')}"></a>
                        </li> -->
                        
                         <li>
                            <a  th:text="#{lang.eng}" href="Internationalization/changeToEngland" ></a>
                        </li>
                        
                        <li>
                            <a  th:text="#{lang.sr}" href="Internationalization/changeToSerbian"></a>
                        </li>
                        
                        
                        
                     </ul>
                     
                     
                        
                </nav>
            </div>

	</div>




  <div id="content" >
        <!-- header -->
        <header id="header">
            <div class="container-fluid">
                <div class="row" >
                   
                    <div class="col-md-9" >
                        <div class="full">
                            <div   class="right_header_info">
                                <ul>
                                 <li>
                                          <a class="logo" href="">BOOKSTORE</a>
                                    </li>
                                
                                  
                                    <li class="button_user"><a class="button active"  onclick="openLoginForm()" >Login</a>
                                    						<a class="button" onclick="openRegisterForm()" >Register</a></li>
                                    
                                 

                                    
                                    <li class="dinone" >
                                        <button type="button" id="sidebarCollapse">
                                            <img src="images/sidebar.png" alt="#">
                                        </button>
                                    </li>
                                    <li>
								<p class="greska" th:text="${poruka}"></p>
								</li>
                                </ul>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </div>

    <!--------------------------  LOGIN ---------------->
       <form method="post" action="Users/Login">
       
	     <div class="center">
	    </div>
	    <div class="popup-overlay" onclick="closeLoginForm()"></div>
	    <div class="popup" >
	      <div class="popup-close" onclick="closeLoginForm()">&times;</div>
	      
	     
	      
	      <div class="form">
	        <div class="avatar">
	          <img src="images/logo.png" alt="">
	        </div>
	        <div class="header">Member Login</div>
	
	        <div class="element">
	          <label for="username">Username</label>
	          <input type="text" id="username" name="username">
	        </div>
	        <div class="element">
	          <label for="password">Password</label>
	          <input type="password" id="password" name="password" >
	        </div>
	        <div class="element">
	          <button type="submit">Login</button>
	        </div>
	        <div class="reg">Not a member?&nbsp;<a href="#" onclick="openRegisterForm()" class="reg2">Sign Up Now</a></div>
	      </div>
	    
	      
	    </div>

 	 </form> 
    <!-------------------  REGISTER ----------------------------------->
    
	<form method="post" action="Users/Register">
	
	    <div class="center1">
		  </div>
		  <div class="popup-overlay1" onclick="closeRegisterForm()"></div>
		  <div class="popup1" >
		    <div class="popup-close1" onclick="closeRegisterForm()" >&times;</div>
		    <div class="form1" >
		      <div class="avatar1">
		        <img src="images/logo.png" alt="">
		      </div>
	      <div class="header1">Member Registration</div>
			
			<div class="element1">
	        <label for="name1">Name</label>
	        <input type="text" id="username1" name="name">
	      </div>
	      <div class="element1">
	        <label for="lastname1">Lastname</label>
	        <input type="text" id="password1" name="lastname">
	      </div>
	       <div class="element1">
	        <label for="username1">Username</label>
	        <input type="text" id="username1" name="username">
	      </div>
	      <div class="element1">
	        <label for="email1">Email</label>
	        <input type="text" id="username1" name="email">
	      </div>
	      
	        <div class="element1">
	        <label for="address1">Address</label>
	        <input type="text" id="username1" name="address">
	      </div>
	      
	      <div class="element1">
	        <label for="date1">Date Of Birth</label>
	        <input type="datetime-local"  name="dateOfBirth">
	      </div>
	      
	      
	       
	      
	      <div class="element2" >
	        <label for="address1" class="gen1">Gender</label>
	        <input class="gen2" type="radio" name="gender" value="male" checked/><span class="malfem">Male</span>&nbsp;
			<input class="gen2" type="radio" name="gender" value="female"/><span class="malfem">Female</span>
	      </div> 
	      
	      <div class="element1">
	        <label for="address1">Phone Number</label>
	        <input type="text" id="username1" name="phoneNumber">
	      </div>
	   
	      
	      <div class="element1">
	        <label for="password">Password</label>
	        <input type="password" id="password1"  name="password" >
	      </div>
	      
	       <div class="element1">
	        <label for="password">Repeted Password</label>
	        <input type="password" id="password1" name="repetedPassword"/>
	      </div>
	      
	      
	      
	      <div class="element1">
	        <button type="submit">Register</button>
	      </div>
	    </div>
	  </div>
	  </form>

    <script>

        function openLoginForm(){
        document.body.classList.add("showLoginForm");
        document.body.classList.remove("showRegisterForm");
        }
        function closeLoginForm(){
        document.body.classList.remove("showLoginForm");
        }

        function closeLoginForm(){
        document.body.classList.remove("showLoginForm");
        }


        function openRegisterForm(){
        document.body.classList.add("showRegisterForm");
        document.body.classList.remove("showLoginForm");
        }

        function closeRegisterForm(){
        document.body.classList.remove("showRegisterForm");
        }

        function closeRegisterForm(){
        document.body.classList.remove("showRegisterForm");
        }
        </script>

<!-- end header -->






<div class="yellow_bg">
   <div class="container">
            <div class="row">
               <div class="col-md-12">
                  <div class="title">
                    <h2>All Users - Admin</h2>
                    <h1>Books & Bookshelves</h1>
                  </div>
               </div>
            </div>
          </div>
    </div>
</div>
<div class="pozadina">
<div class="usersTabela">

	<form id="form" method="post" action="ShoppingCart/Buy">
		<table class="usersTabelaa">
			<tbody th:unless="${session.choosenBooksForUser.empty}" id="dataTable" >
			
				<tr id="dataULL">
				
					<td id="data"  name="line_items" th:each="itBook : ${session.choosenBooksForUser}">
					
					 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
					
					 <span class="spanName">Name of book:&nbsp;&nbsp;<a th:href="|books/Details?id=${itBook.id}|" th:text="${itBook.name}" name="name"></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br>
					
					 <span class="spanName">Author:&nbsp;&nbsp;<span th:text="${itBook.author}" name="itBook.author"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br>
					
	
					 <span class="spanName2">Number of Book to Buy:</span><input oninput=calc()  class="numberOfBooksToBuy" type="number" value="1" min="1"  id="numberOfBooksToBuy"  onkeyup="if(this.value<0){this.value= this.value * -1}" name="numberOfBooksToBuy"/>
					
					 <span class="spanName2">Price: <input type="text" oninput=calc() th:value="${itBook.price}" name="price" id="price"  class="price" onkeyup="if(this.value<0){this.value= this.value * -1}" readonly/></span>
				
				<!-- 	oninput=myFunction() -->
					
					
				 <label for="demo">Total for this book:</label>  
  				<input id="demo" oninput=calc() class="demo" name="demo" type="text">  
				
		
		 				<br>
		 				
		 				<br>
					 	
					<!-- 		<input  id="demo" class="demo" type="text" readonly /> -->
					</td>
				
					
				 </tr>
		
				<!-- 	<b name="totalPrice" class="totalPrice"  id="totalPrice" th:text="${#aggregates.sum(session.choosenBooksForUser.![price])}"></b>  -->
			
			
		</tbody>
			
		 </table>
		
		</form>
		
		<br>
		
		
		
		
		<!-- -------  Kupovinaaaa -->
		
		<form >
		
		<div class="kupii2">
		
		<span class="totalPricee">Total Price:</span> <br>
		
		<span id="totalPrice" name="totalPrice" class="totalPrice" type="text" ></span>&nbsp;<span id="totalPrice">$</span>
		<br>
		
		
		
		<button class="kupii">
		Buy <img class="imgDelivery" src="images/delivery.png" />
		</button>
		
		</div>
		
		</form>
		
		
		
		
	
	
	<br>
	<br>
		
		<form method="post" action="ShoppingCart/Remove" >
		
		<div   th:unless="${session.choosenBooksForUser.empty}" id="dataTable2" >
	
    	
				<ul>
					
			
					<li id="dataTable3" name="line_items" th:each="itBook: ${session.choosenBooksForUser}">
					
					<span> Do you want do remove this book?</span>&nbsp;&nbsp;&nbsp;&nbsp;
					
					<span>Name of book:<a th:href="|books/Details?id=${itBook.id}|" th:text="${itBook.name}" name="name" id="imeKnjige"></a></span>
				
					<span><input type="hidden" th:value="${itBook.id}" name="id"/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
					
					<button type="submit" id="obrisi">Remove Book from Cart</button>
					<br>
					<br>
					
					
			
					
					</li>
				
					
				 </ul>
			
			
			<!--  <b name="totalPrice" class="totalPrice"  id="totalPrice" th:text="${#aggregates.sum(session.choosenBooksForUser.![price])}"></b> -->
			
				
		</div>
		
		
		</form>
		
		
	

</div>



 </div>

	</body>


 
    <!-- Javascript files-->
    <script >
  
	function calc() {
		
		  // Execute when the #add button is clicked.
		  
		  // Attach a click event handler on table, which listens for clicks on .del.
		  
		 /*  $("table").on("click", ".del", function () {
		  
		    // Remove the parent TR tag completely from DOM.
		    
		    $(this).closest("tr").remove();
		    
		  }); */
		  // Attach input change event handler on table, which listens for clicks on input.
		  
		  $("table").on("input", "input", function () {
		  
		    // For every row...
		    
		    $("tbody td").each(function () {
		    
		      // Cache the value of the current row.
		      
		      $this = $(this);
		    
		      
		        // Set the value of .Amount here 
		        
		        $this.find(".demo").val(+$this.find("#numberOfBooksToBuy").val() * +$(this).find("#price").val());
		        
		        
		      // Set the totals to 0.
		      
		      $("#totalPrice").text(0);
		      
		      // For every .Amount, collect the values and sum it and add it to #total_amt unless it's empty.
		      
		      $(".demo").each(function () {
		      
		        if (this.value != "")
		        
		          $("#totalPrice").text(parseInt($("#totalPrice").text()) + parseInt($(this).val()));
		          
		      });
		     
		      
		     
		    });
		  });
		};	
			

	
	 	
	 	
	 	
	 // Cuvanje values u nputu kad se refresh page	

	/*     document.getElementsByName("numberOfBooksToBuy")[0].value = getSavedValue("numberOfBooksToBuy");    // set the value to this input
	    // set the value to this input
	 // Here you can add more inputs to set value. if it's saved */

	 //Save the value function - save it to localStorage as (ID, VALUE)
	/*    function saveValue(e){
	     var id = e.name;  // get the sender's id to save it . 
	     var val = e.value; // get the value. 
	     localStorage.setItem(id, val);// Every time user writing something, the localStorage's value will override . 
	 }

	 //get the saved value function - return the value of "v" from localStorage. 
	 function getSavedValue  (v){
	     if (!localStorage.getItem(v)) {
	         return "";// You can change this to your defualt value. 
	     }
	     return localStorage.getItem(v);
	 }       */

	</script>
    

    <script src="js/jquery.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script src="js/custom.js"></script>
     <script src="js/jquery.mCustomScrollbar.concat.min.js"></script>
     
     <script src="js/jquery-3.0.0.min.js"></script>

     <script type="text/javascript">
        $(document).ready(function() {
            $("#sidebar").mCustomScrollbar({
                theme: "minimal"
            });

            $('#dismiss, .overlay').on('click', function() {
                $('#sidebar').removeClass('active');
                $('.overlay').removeClass('active');
            });

            $('#sidebarCollapse').on('click', function() {
                $(this).children().toggleClass('active');
                $('#sidebar').toggleClass('active');
            });

            
        });
    </script>
    
   
</body>


</html>